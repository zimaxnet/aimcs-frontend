import{r as d,a as A,R as I}from"./vendor-nf7bT_Uh.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function l(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(s){if(s.ep)return;s.ep=!0;const n=l(s);fetch(s.href,n)}})();var N={exports:{}},f={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O=d,_=Symbol.for("react.element"),P=Symbol.for("react.fragment"),B=Object.prototype.hasOwnProperty,z=O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D={key:!0,ref:!0,__self:!0,__source:!0};function S(i,r,l){var a,s={},n=null,o=null;l!==void 0&&(n=""+l),r.key!==void 0&&(n=""+r.key),r.ref!==void 0&&(o=r.ref);for(a in r)B.call(r,a)&&!D.hasOwnProperty(a)&&(s[a]=r[a]);if(i&&i.defaultProps)for(a in r=i.defaultProps,r)s[a]===void 0&&(s[a]=r[a]);return{$$typeof:_,type:i,key:n,ref:o,props:s,_owner:z.current}}f.Fragment=P;f.jsx=S;f.jsxs=S;N.exports=f;var e=N.exports,y={},v=A;y.createRoot=v.createRoot,y.hydrateRoot=v.hydrateRoot;const T=()=>{const[i,r]=d.useState(!1),l=async()=>{r(!0),setTimeout(()=>r(!1),1500)};return e.jsxs("div",{className:"min-h-screen flex flex-col justify-center items-center bg-gradient-to-br from-blue-900 via-blue-800 to-blue-700 p-4",children:[e.jsxs("div",{className:"w-full max-w-xs bg-white rounded-xl shadow-lg p-8 flex flex-col items-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-blue-700 mb-2",children:"AIMCS"}),e.jsx("p",{className:"text-gray-600 mb-6 text-center",children:"Sign in to continue"}),e.jsxs("button",{onClick:l,disabled:i,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition-colors flex items-center justify-center disabled:opacity-60",children:[i?e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}):e.jsxs("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z",fill:"#fff"}),e.jsx("path",{d:"M12 6v6l4.28 2.54",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),i?"Signing in...":"Sign in with Microsoft"]})]}),e.jsx("p",{className:"text-gray-300 text-xs mt-8 text-center",children:"Powered by Zimax Networks AI"})]})},c={en:{title:"AIMCS",subtitle:"AI Multimodal Customer System",startConversation:"Start a conversation with text!",typeMessage:"Type your message and press Enter or click Send",send:"Send",processing:"Processing...",poweredBy:"Powered by",playAudio:"🔊 Play Audio",placeholder:"Type your message..."},es:{title:"AIMCS",subtitle:"Sistema de Cliente Multimodal con IA",startConversation:"¡Comienza una conversación con texto!",typeMessage:"Escribe tu mensaje y presiona Enter o haz clic en Enviar",send:"Enviar",processing:"Procesando...",poweredBy:"Desarrollado por",playAudio:"🔊 Reproducir audio",placeholder:"Escribe tu mensaje..."}},U=()=>{const[i,r]=d.useState([]),[l,a]=d.useState(""),[s,n]=d.useState(!1),[o,C]=d.useState("en"),[E,b]=d.useState(!1),w=d.useRef(null),M="https://api.aimcs.net";d.useEffect(()=>{var t;(t=w.current)==null||t.scrollIntoView({behavior:"smooth"})},[i]);const m=(t,u,x="user",p=null,g=null)=>{const h={id:Date.now(),sender:t,message:u,type:x,timestamp:new Date().toISOString(),audioData:p,audioFormat:g};r(R=>[...R,h])},j=async()=>{if(!l.trim())return;const t=l.trim();a(""),m("You",t,"user"),n(!0);try{const u=await fetch(`${M}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t})});if(u.ok){const x=await u.json();m("Zimax AI",x.message,"ai",x.audioData,x.audioFormat)}else m("System","Failed to send message","error")}catch(u){console.error("❌ Error sending message:",u),m("System","Error sending message","error")}finally{n(!1)}},k=(t,u)=>{if(!t)return;const x=new Blob([Uint8Array.from(atob(t),h=>h.charCodeAt(0))],{type:u||"audio/mp3"}),p=URL.createObjectURL(x),g=new Audio(p);g.play(),g.onended=()=>{URL.revokeObjectURL(p)}},L=t=>{t.key==="Enter"&&!t.shiftKey&&(t.preventDefault(),j())};return e.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("button",{className:"bg-gray-700 text-white px-3 py-1 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",onClick:()=>C(o==="en"?"es":"en"),"aria-label":o==="en"?"Cambiar a español":"Switch to English",children:o==="en"?"ES":"EN"}),e.jsxs("button",{className:"flex items-center space-x-1 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",onClick:()=>b(!0),"aria-label":"Sign in with Microsoft",children:[e.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z",fill:"#fff"}),e.jsx("path",{d:"M12 6v6l4.28 2.54",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{className:"hidden sm:inline",children:"Sign in"})]})]}),E&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"relative w-full max-w-xs",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 text-xl font-bold z-10",onClick:()=>b(!1),"aria-label":"Close login dialog",children:"×"}),e.jsx(T,{})]})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-blue-400 mb-2",children:c[o].title}),e.jsx("p",{className:"text-gray-300",children:c[o].subtitle})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 mb-4 h-96 overflow-y-auto",children:[i.length===0?e.jsxs("div",{className:"text-center text-gray-400 mt-20",children:[e.jsx("p",{children:c[o].startConversation}),e.jsx("p",{className:"text-sm mt-2",children:c[o].typeMessage})]}):i.map(t=>e.jsx("div",{className:`mb-4 ${t.type==="ai"?"text-left":t.type==="user"?"text-right":"text-center"}`,children:e.jsxs("div",{className:`inline-block max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${t.type==="ai"?"bg-blue-600 text-white":t.type==="user"?"bg-green-600 text-white":t.type==="system"?"bg-gray-600 text-gray-200":t.type==="error"?"bg-red-600 text-white":"bg-gray-700 text-gray-300"}`,children:[e.jsx("div",{className:"text-xs opacity-75 mb-1",children:t.sender}),e.jsx("div",{children:t.message}),t.audioData&&e.jsx("button",{onClick:()=>k(t.audioData,t.audioFormat),className:"mt-2 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm transition-colors",children:c[o].playAudio})]})},t.id)),e.jsx("div",{ref:w})]}),e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("textarea",{value:l,onChange:t=>a(t.target.value),onKeyPress:L,placeholder:c[o].placeholder,className:"flex-1 bg-gray-800 text-white border border-gray-600 rounded-lg px-4 py-2 focus:outline-none focus:border-blue-500 resize-none",rows:"2",disabled:s}),e.jsx("button",{onClick:j,disabled:s||!l.trim(),className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white px-6 py-2 rounded-lg transition-colors",children:c[o].send})]}),s&&e.jsxs("div",{className:"text-center text-gray-400",children:["🔄 ",c[o].processing]})]}),e.jsx("div",{className:"text-center mt-8 pt-4 border-t border-gray-700",children:e.jsxs("p",{className:"text-gray-400 text-sm",children:[c[o].poweredBy," ",e.jsx("span",{className:"text-blue-400 font-semibold",children:"Zimax Networks AI"})]})})]})})};function F(){return e.jsx("div",{className:"App min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white",children:e.jsx(U,{})})}console.log("AIMCS Frontend - Starting application...");y.createRoot(document.getElementById("root")).render(e.jsx(I.StrictMode,{children:e.jsx(F,{})}));
